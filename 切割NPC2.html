<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<img src="NPC2.png" alt="" id="imgs">
<canvas id="myCanvas" width="600" height="500" style="border:1px black solid"></canvas>
</body>
<script>
   /* debugger;*/
    var img = document.getElementById("imgs");
    var cvs = document.getElementById("myCanvas");
    var ctx = cvs.getContext("2d");
    var timer = null;
    var pix = 0;
   document.onkeydown = function(event){
       var e = event || window.event;
            if(e.keyCode == 37){
                //left
                clearInterval(timer);
                timer = setInterval(function(){
                    if(pix <4){
                        drawNewNpc.drawing(43*pix,69);
                        ctx.translate(-2,0);
                        pix++;
                    }else{
                        pix = 0;
                    }
                },40)
            }
            if(e.keyCode == 38){
                //up
                clearInterval(timer);
                timer = setInterval(function(){
                    if(pix <4){
                        drawNewNpc.drawing(43*pix,197);
                        ctx.translate(0,-2);
                        pix++;
                    }else{
                        pix = 0;
                    }
                },40)
            }
            if(e.keyCode == 39){
                //right
                clearInterval(timer);
                timer = setInterval(function(){
                    if(pix <4){
                        drawNewNpc.drawing(43*pix,133);
                        ctx.translate(2,0);
                        pix++;
                    }else{
                        pix = 0;
                    }
                },40)
            }
            if(e.keyCode == 40){
                //down
                clearInterval(timer);
                timer = setInterval(function(){
                    if(pix <4){
                        drawNewNpc.drawing(43*pix,5);
                        ctx.translate(0,2);
                        pix++;
                    }else{
                        pix = 0;
                    }
                },40)
            }
   };
    function Draw(img,swidth,sheight,x,y,width,height){
        this.ctx = ctx;
        this.img = img;
        this.swidth = swidth;
        this.sheight = sheight;
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
    }
    Draw.prototype.drawing = function(sX,sY){
        this.sX = sX;
        this.sY = sY;
        this.ctx.clearRect(0,0,cvs.width,cvs.height);
        this.ctx.beginPath();
        this.ctx.drawImage(this.img,this.sX,this.sY,this.swidth,this.sheight,this.x,this.y,this.width,this.height);
    };

    var drawNewNpc = new Draw(img,30,60,100,180,30,60);
    drawNewNpc.drawing(5,70);


    /*ctx.drawImage(img,5,5,30,60,100,100,30,60);
    ctx.drawImage(img,5,70,30,60,100,180,30,60);
    ctx.drawImage(img,5,135,30,60,100,260,30,60);
    ctx.drawImage(img,5,200,30,60,100,340,30,60);*/
</script>
</html>